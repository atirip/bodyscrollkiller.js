/*
* MIT Licensed
* Copyright (c) 2012, Priit Pirita, atirip@yahoo.com
*/
;(function(a,b){var c=!0,d={x:0,y:0},e=d,f=d,g="",h=a.document,i=h.body,j=h.documentElement,k=b.systemScrollbarWidth||function(){if(!i)return 13;var a=0,b=h.createElement("div");return b.style.cssText="visibility:hidden;overflow-y:scroll;",b.appendChild(h.createTextNode("Hi!")),i.appendChild(b),a=b.offsetWidth-b.clientWidth,b.parentNode.removeChild(b),a}(),l=b.isIE||function(){var a=h.createElement("div");return a.innerHTML="<!--[if IE]><i></i><![endif]-->",1===a.getElementsByTagName("i").length}(),m=l?j:i,n="ontouchstart"in a;b.bodyScrollOff=function(a,b){var h,o;b=l?+b||-2:0,c&&(n?i.addEventListener("touchmove",function(a){a.preventDefault()}):(i?(e.x=Math.max(j.scrollWidth,i.scrollWidth)>Math.min(j.clientWidth,i.clientWidth),e.y=Math.max(j.scrollHeight,i.scrollHeight)>Math.min(j.clientHeight,i.clientHeight)):(e.x=j.scrollWidth>j.clientWidth,e.y=j.scrollHeight>j.clientHeight),d.x=m.style.overflowX,d.y=m.style.overflowY,f.x=m.style.marginRight,f.y=m.style.marginBottom,g=m.style.cssText,l&&a&&(h=a.getBoundingClientRect(),o=h.right-h.left),m.style.overflowX="hidden",m.style.overflowY="hidden",m.style.marginRight=(parseInt(f.x,10)||0+e.y?k+b:0)+"px",m.style.marginBottom=(parseInt(f.y,10)||0+e.x?k+b:0)+"px",l&&a&&(h=a.getBoundingClientRect(),h.right-h.left>o&&(m.style.marginRight=parseInt(m.style.marginRight,10)-1+"px"))),c=!1)},b.bodyScrollOn=function(){c||(n?i.removeEventListener("touchmove",function(a){a.preventDefault()}):(m.style.overflowX=-1===g.indexOf("overflowX")?"":d.x,m.style.overflowY=-1===g.indexOf("overflowY")?"":d.y,m.style.marginRight=-1===g.indexOf("marginRight")?"":f.x,m.style.marginBottom=-1===g.indexOf("marginBottom")?"":f.y),c=!0)},b.bodyScroll=function(){return c}})(window,window.atirip||(window.atirip={}))